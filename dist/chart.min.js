!function(){"use strict";function e(e){return e.map(function(e){return["minLift","absLift","maxLift"].map(function(n){Array.isArray(e[n])||(e[n]=[e[n]]);var r=e[n].some(function(e){return null===e||o(e)});r&&(e.minLift=[],e.absLift=[],e.maxLift=[])}),["color"].map(function(n){(null===e[n]||o(e[n]))&&(e[n]=[]),Array.isArray(e[n])||(e[n]=[e[n]])}),e})}function n(e){var n=l("header","sqc__h"),r=l("div","sqc__h--question","Q: "+e);n.appendChild(r);var a=l("dev","sqc__h--numbers","Relative Lift");n.appendChild(a);var t=l("div","sqc__h--range","Absolute Lift");return n.appendChild(t),n}function r(e,n,r,d){var c=l("div","sqc__a"),p=l("div","sqc__a--title",e.title);c.appendChild(p);for(var s=l("div","sqc__a--bars"),u=l("div","sqc__a--numbers"),_=l("div","sqc__a--range"),f=1,v=e.percentages.length;v>f;f++){var h=l("div","sqc__a__bars");h.appendChild(a(0,e.percentages[0],d)),h.appendChild(a(f,e.percentages[f],d)),s.appendChild(h),u.appendChild(t(e.percentages[0],e.percentages[f],e.absLift[f-1]));var C=o(e.color[f-1])?"rgba(0,0,0,.2)":e.color[f-1];_.appendChild(i(e.minLift[f-1],e.maxLift[f-1],e.absLift[f-1],C,n,r))}return c.appendChild(s),c.appendChild(u),c.appendChild(_),c}function a(e,n,r){var a=l("div","sqc__progress-block"),t=l("span","sqc__progress-container"),i=l("span","sqc__progress-value");i.style.width=n/r*100+"%",i.style.backgroundColor=f[e],t.appendChild(i);var d=document.createElement("label");return d.style.left=n/r*100+"%",d.innerHTML=n+"%",t.appendChild(d),a.appendChild(t),a}function t(e,n,r){e=parseFloat(e),n=parseFloat(n);var a=l("div",""),t=100*(n/e-1);a.innerHTML=u(t)+"%";var i=l("div","sqc__a__numbers-container");return i.appendChild(a),i}function i(e,n,r,a,t,i){var d=l("div","sqc__a__range--container");if(o(e)||o(n)||o(r)){var c=l("div","");return d.appendChild(c),d}var p=i-t,s=(parseFloat(e)-t)/p*100,u=(i-parseFloat(n))/p*100,_=(parseFloat(r)-t)/p*100,f=l("figure","sqc__a__range"),v=l("div","sqc__a__range--min");v.style.flex="0 1 "+s+"%",v.setAttribute("display",e+"%");var h=l("div","sqc__a__range--line"),C=l("div","sqc__a__range--max");C.style.flex="0 1 "+u+"%",C.setAttribute("display",n+"%");var m=l("div","sqc__a__range--val");return m.style.left="calc("+_+"% - .5rem)",m.style.border="2px solid "+a,m.setAttribute("display",r+"%"),f.appendChild(v),f.appendChild(h),f.appendChild(C),f.appendChild(m),d.appendChild(f),d}function d(e,n){for(var r=l("footer","sqc__f"),a=0,t=e.length;t>a;a++){var i=l("div","sqc__f__s"),d=document.createElement("i");d.style.backgroundColor=f[a];var c=document.createElement("span");c.innerHTML=e[a]+", n="+n[a],i.appendChild(d),i.appendChild(c),r.appendChild(i)}return r}function c(e){var n=e.reduce(function(e,n){return n.maxLift.reduce(function(e,n){return parseFloat(n)>e?parseFloat(n):e},e)},-100);return n+.1*n}function p(e){return e.reduce(function(e,n){return n.minLift.reduce(function(e,n){return parseFloat(n)<e?parseFloat(n):e},e)},100)}function s(e){var n=e.reduce(function(e,n){return n.percentages.reduce(function(e,n){return parseFloat(n)>e?parseFloat(n):e},e)},-100);return n>10?n+=10:n>1?n+=1:n>.1?n+=.1:n>.01?n+=.01:n>.001?n+=.001:n>1e-4?n+=1e-4:n>1e-5?n+=1e-5:n>1e-6?n+=1e-6:n>1e-7&&(n+=1e-7),n}function l(e,n,r){var a=document.createElement(e);return a.className=n,r&&(a.innerHTML=r),a}function u(e){return e.toFixed(1)}function o(e){return"undefined"==typeof e}var _=function(a,t,i,u,o){var _=l("figure","sqc"),f=n(a);_.appendChild(f),u=e(u);for(var v=c(u),h=p(u),C=s(u),m=0,b=u.length;b>m;m++){var g=r(u[m],h,v,C);_.appendChild(g)}var q=d(t,i);return _.appendChild(q),_},f=["#b8e446","#39679e","#f1674a","#36af63","#134580","#89b80e","#c32e0f","#0b8d3c","#235897","#a7da24","#e64827","#1ca750","#527bad","#cbf267","#ff866d","#51be79","#789bc5","#d9f68d"];window.ScrutineerQuestionChart=_}();